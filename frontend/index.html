<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="AppDrop - Mini App Config Dashboard for managing mobile app pages and widgets">
    <title>AppDrop - Mini App Config Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <div class="logo-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2L2 7l10 5 10-5-10-5z" />
                            <path d="M2 17l10 5 10-5" />
                            <path d="M2 12l10 5 10-5" />
                        </svg>
                    </div>
                    <span class="logo-text">AppDrop</span>
                </div>
            </div>

            <nav class="sidebar-nav">
                <div class="nav-section">
                    <span class="nav-section-title">Main Menu</span>
                    <a href="#" class="nav-item active" data-section="dashboard">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="7" height="7" rx="1" />
                            <rect x="14" y="3" width="7" height="7" rx="1" />
                            <rect x="3" y="14" width="7" height="7" rx="1" />
                            <rect x="14" y="14" width="7" height="7" rx="1" />
                        </svg>
                        <span>Dashboard</span>
                    </a>
                    <a href="#" class="nav-item" data-section="pages">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                            <polyline points="14 2 14 8 20 8" />
                            <line x1="16" y1="13" x2="8" y2="13" />
                            <line x1="16" y1="17" x2="8" y2="17" />
                        </svg>
                        <span>Pages</span>
                        <span class="nav-badge" id="pageCount">0</span>
                    </a>
                    <a href="#" class="nav-item" data-section="widgets">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="18" height="18" rx="2" />
                            <line x1="3" y1="9" x2="21" y2="9" />
                            <line x1="9" y1="21" x2="9" y2="9" />
                        </svg>
                        <span>Widgets</span>
                    </a>
                </div>

                <div class="nav-section">
                    <span class="nav-section-title">Settings</span>
                    <a href="#" class="nav-item" data-section="api-docs">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20" />
                            <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z" />
                        </svg>
                        <span>API Docs</span>
                    </a>
                    <a href="#" class="nav-item" id="themeToggle">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="icon-moon">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" />
                        </svg>
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="icon-sun"
                            style="display: none;">
                            <circle cx="12" cy="12" r="5" />
                            <line x1="12" y1="1" x2="12" y2="3" />
                            <line x1="12" y1="21" x2="12" y2="23" />
                            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" />
                            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" />
                            <line x1="1" y1="12" x2="3" y2="12" />
                            <line x1="21" y1="12" x2="23" y2="12" />
                            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" />
                            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" />
                        </svg>
                        <span>Dark Mode</span>
                    </a>
                </div>
            </nav>

            <div class="sidebar-footer">
                <div class="user-info">
                    <div class="user-avatar">
                        <span>AP</span>
                    </div>
                    <div class="user-details">
                        <span class="user-name">AppDrop Admin</span>
                        <span class="user-role">Super Admin</span>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="header">
                <button class="menu-toggle" id="menuToggle">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="3" y1="12" x2="21" y2="12" />
                        <line x1="3" y1="6" x2="21" y2="6" />
                        <line x1="3" y1="18" x2="21" y2="18" />
                    </svg>
                </button>
                <div class="header-title">
                    <h1 id="sectionTitle">Dashboard</h1>
                    <p class="header-subtitle">Manage your mobile app configuration</p>
                </div>
                <div class="header-actions">
                    <div class="search-box">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8" />
                            <line x1="21" y1="21" x2="16.65" y2="16.65" />
                        </svg>
                        <input type="text" placeholder="Search..." id="searchInput">
                    </div>
                    <button class="btn btn-secondary" id="previewBtn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
                            <circle cx="12" cy="12" r="3" />
                        </svg>
                        <span>Live Preview</span>
                    </button>
                    <button class="btn btn-primary" id="addNewBtn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19" />
                            <line x1="5" y1="12" x2="19" y2="12" />
                        </svg>
                        <span>Add New</span>
                    </button>
                </div>
            </header>

            <!-- Dashboard Section -->
            <section class="content-section" id="dashboardSection">
                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card stat-primary">
                        <div class="stat-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                                <polyline points="14 2 14 8 20 8" />
                            </svg>
                        </div>
                        <div class="stat-content">
                            <span class="stat-label">Total Pages</span>
                            <span class="stat-value" id="totalPages">0</span>
                        </div>
                        <div class="stat-trend trend-up">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="23 6 13.5 15.5 8.5 10.5 1 18" />
                            </svg>
                            <span>Active</span>
                        </div>
                    </div>

                    <div class="stat-card stat-success">
                        <div class="stat-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="18" height="18" rx="2" />
                                <line x1="3" y1="9" x2="21" y2="9" />
                                <line x1="9" y1="21" x2="9" y2="9" />
                            </svg>
                        </div>
                        <div class="stat-content">
                            <span class="stat-label">Total Widgets</span>
                            <span class="stat-value" id="totalWidgets">0</span>
                        </div>
                        <div class="stat-trend trend-up">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="23 6 13.5 15.5 8.5 10.5 1 18" />
                            </svg>
                            <span>Growing</span>
                        </div>
                    </div>

                    <div class="stat-card stat-warning">
                        <div class="stat-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
                                <polyline points="9 22 9 12 15 12 15 22" />
                            </svg>
                        </div>
                        <div class="stat-content">
                            <span class="stat-label">Home Page</span>
                            <span class="stat-value stat-value-small" id="homePage">Not Set</span>
                        </div>
                        <div class="stat-trend">
                            <span class="status-badge status-active">Configured</span>
                        </div>
                    </div>

                    <div class="stat-card stat-info">
                        <div class="stat-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10" />
                                <polyline points="12 6 12 12 16 14" />
                            </svg>
                        </div>
                        <div class="stat-content">
                            <span class="stat-label">API Status</span>
                            <span class="stat-value stat-value-small" id="apiStatus">Checking...</span>
                        </div>
                        <div class="stat-trend">
                            <span class="status-badge status-active" id="apiStatusBadge">Online</span>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="dashboard-grid">
                    <div class="card">
                        <div class="card-header">
                            <h3>Recent Pages</h3>
                            <a href="#" class="view-all" data-section="pages">View All</a>
                        </div>
                        <div class="card-body">
                            <div class="recent-list" id="recentPagesList">
                                <div class="empty-state">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                                        <polyline points="14 2 14 8 20 8" />
                                    </svg>
                                    <p>No pages created yet</p>
                                    <button class="btn btn-secondary btn-sm" onclick="openPageModal()">Create First
                                        Page</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3>Widget Types</h3>
                            <span class="badge badge-info">5 Types</span>
                        </div>
                        <div class="card-body">
                            <div class="widget-types-grid">
                                <div class="widget-type-item" draggable="true" data-type="banner">
                                    <div class="widget-type-icon widget-banner">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <rect x="3" y="3" width="18" height="18" rx="2" />
                                            <circle cx="8.5" cy="8.5" r="1.5" />
                                            <polyline points="21 15 16 10 5 21" />
                                        </svg>
                                    </div>
                                    <span>Banner</span>
                                </div>
                                <div class="widget-type-item" draggable="true" data-type="product_grid">
                                    <div class="widget-type-icon widget-grid">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <rect x="3" y="3" width="7" height="7" />
                                            <rect x="14" y="3" width="7" height="7" />
                                            <rect x="3" y="14" width="7" height="7" />
                                            <rect x="14" y="14" width="7" height="7" />
                                        </svg>
                                    </div>
                                    <span>Product Grid</span>
                                </div>
                                <div class="widget-type-item" draggable="true" data-type="text">
                                    <div class="widget-type-icon widget-text">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <polyline points="4 7 4 4 20 4 20 7" />
                                            <line x1="9" y1="20" x2="15" y2="20" />
                                            <line x1="12" y1="4" x2="12" y2="20" />
                                        </svg>
                                    </div>
                                    <span>Text</span>
                                </div>
                                <div class="widget-type-item" draggable="true" data-type="image">
                                    <div class="widget-type-icon widget-image">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <rect x="3" y="3" width="18" height="18" rx="2" />
                                            <circle cx="8.5" cy="8.5" r="1.5" />
                                            <polyline points="21 15 16 10 5 21" />
                                        </svg>
                                    </div>
                                    <span>Image</span>
                                </div>
                                <div class="widget-type-item" draggable="true" data-type="spacer">
                                    <div class="widget-type-icon widget-spacer">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <line x1="12" y1="5" x2="12" y2="19" />
                                            <polyline points="8 9 12 5 16 9" />
                                            <polyline points="8 15 12 19 16 15" />
                                        </svg>
                                    </div>
                                    <span>Spacer</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card card-full-width">
                        <div class="card-header">
                            <h3>Quick Start Guide</h3>
                        </div>
                        <div class="card-body">
                            <div class="guide-steps">
                                <div class="guide-step">
                                    <div class="step-number">1</div>
                                    <div class="step-content">
                                        <h4>Create Pages</h4>
                                        <p>Start by creating pages like Home, Collection, or Product Detail</p>
                                    </div>
                                </div>
                                <div class="guide-step">
                                    <div class="step-number">2</div>
                                    <div class="step-content">
                                        <h4>Add Widgets</h4>
                                        <p>Add UI components like banners, product grids, and text blocks</p>
                                    </div>
                                </div>
                                <div class="guide-step">
                                    <div class="step-number">3</div>
                                    <div class="step-content">
                                        <h4>Configure & Reorder</h4>
                                        <p>Customize widget properties and arrange them using drag & drop</p>
                                    </div>
                                </div>
                                <div class="guide-step">
                                    <div class="step-number">4</div>
                                    <div class="step-content">
                                        <h4>Set Home Page</h4>
                                        <p>Mark one page as the home page for your mobile app</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Pages Section -->
            <section class="content-section hidden" id="pagesSection">
                <div class="section-header">
                    <div class="filter-bar">
                        <select class="filter-select" id="pageFilter">
                            <option value="all">All Pages</option>
                            <option value="home">Home Page</option>
                            <option value="regular">Regular Pages</option>
                        </select>
                    </div>
                </div>
                <div class="pages-grid" id="pagesGrid">
                    <!-- Pages will be dynamically inserted here -->
                </div>
                <div class="pagination" id="pagesPagination">
                    <!-- Pagination will be dynamically inserted here -->
                </div>
            </section>

            <!-- Widgets Section -->
            <section class="content-section hidden" id="widgetsSection">
                <div class="section-header">
                    <select class="filter-select" id="pageSelector">
                        <option value="">Select a Page</option>
                    </select>
                    <select class="filter-select" id="widgetTypeFilter">
                        <option value="">All Widget Types</option>
                        <option value="banner">Banner</option>
                        <option value="product_grid">Product Grid</option>
                        <option value="text">Text</option>
                        <option value="image">Image</option>
                        <option value="spacer">Spacer</option>
                    </select>
                </div>

                <div class="widgets-layout">
                    <div class="widgets-sidebar">
                        <div class="widgets-container" id="widgetsContainer">
                            <div class="empty-state">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                    <rect x="3" y="3" width="18" height="18" rx="2" />
                                    <line x1="3" y1="9" x2="21" y2="9" />
                                </svg>
                                <p>Select a page to view its widgets</p>
                            </div>
                        </div>
                    </div>

                    <div class="mobile-preview-container">
                        <div class="mobile-frame">
                            <div class="mobile-screen" id="mobilePreview">
                                <div class="mobile-status-bar">
                                    <span class="time">9:41</span>
                                    <div class="status-icons">
                                        <svg viewBox="0 0 24 24" fill="currentColor" width="14" height="14">
                                            <path d="M12 21l-12-18h24z" />
                                        </svg>
                                        <svg viewBox="0 0 24 24" fill="currentColor" width="14" height="14">
                                            <path
                                                d="M22 6c0-1.1-0.9-2-2-2H4C2.9 4 2 4.9 2 6v12c0 1.1 0.9 2 2 2h16c1.1 0 2-0.9 2-2V6z M20 18H4V6h16V18z" />
                                        </svg>
                                    </div>
                                </div>
                                <div class="mobile-app-header">
                                    <h4 id="previewPageTitle">AppDrop</h4>
                                </div>
                                <div class="mobile-content" id="mobileContent">
                                    <div class="preview-empty">
                                        <p>Your widgets will appear here</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- API Docs Section -->
            <section class="content-section hidden" id="apiDocsSection">
                <div class="api-docs">
                    <div class="card">
                        <div class="card-header">
                            <h3>API Endpoints</h3>
                            <span class="badge badge-success">RESTful API</span>
                        </div>
                        <div class="card-body">
                            <div class="endpoint-list">
                                <div class="endpoint-group">
                                    <h4>Pages</h4>
                                    <div class="endpoint">
                                        <span class="method method-get">GET</span>
                                        <code>/pages</code>
                                        <span class="endpoint-desc">List all pages</span>
                                    </div>
                                    <div class="endpoint">
                                        <span class="method method-get">GET</span>
                                        <code>/pages/:id</code>
                                        <span class="endpoint-desc">Get page with widgets</span>
                                    </div>
                                    <div class="endpoint">
                                        <span class="method method-post">POST</span>
                                        <code>/pages</code>
                                        <span class="endpoint-desc">Create a page</span>
                                    </div>
                                    <div class="endpoint">
                                        <span class="method method-put">PUT</span>
                                        <code>/pages/:id</code>
                                        <span class="endpoint-desc">Update a page</span>
                                    </div>
                                    <div class="endpoint">
                                        <span class="method method-delete">DELETE</span>
                                        <code>/pages/:id</code>
                                        <span class="endpoint-desc">Delete a page</span>
                                    </div>
                                </div>
                                <div class="endpoint-group">
                                    <h4>Widgets</h4>
                                    <div class="endpoint">
                                        <span class="method method-post">POST</span>
                                        <code>/pages/:id/widgets</code>
                                        <span class="endpoint-desc">Add widget to page</span>
                                    </div>
                                    <div class="endpoint">
                                        <span class="method method-put">PUT</span>
                                        <code>/widgets/:id</code>
                                        <span class="endpoint-desc">Update a widget</span>
                                    </div>
                                    <div class="endpoint">
                                        <span class="method method-delete">DELETE</span>
                                        <code>/widgets/:id</code>
                                        <span class="endpoint-desc">Delete a widget</span>
                                    </div>
                                    <div class="endpoint">
                                        <span class="method method-post">POST</span>
                                        <code>/pages/:id/widgets/reorder</code>
                                        <span class="endpoint-desc">Reorder widgets</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Page Modal -->
    <div class="modal-overlay" id="pageModal">
        <div class="modal">
            <div class="modal-header">
                <h3 id="pageModalTitle">Create Page</h3>
                <button class="modal-close" onclick="closePageModal()">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18" />
                        <line x1="6" y1="6" x2="18" y2="18" />
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <form id="pageForm">
                    <input type="hidden" id="pageId">
                    <div class="form-group">
                        <label for="pageName">Page Name *</label>
                        <input type="text" id="pageName" placeholder="e.g., Home Page" required>
                    </div>
                    <div class="form-group">
                        <label for="pageRoute">Route *</label>
                        <input type="text" id="pageRoute" placeholder="e.g., /home" required>
                    </div>
                    <div class="form-group form-group-inline">
                        <label class="checkbox-label">
                            <input type="checkbox" id="pageIsHome">
                            <span class="checkmark"></span>
                            Set as Home Page
                        </label>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closePageModal()">Cancel</button>
                <button class="btn btn-primary" onclick="savePage()">Save Page</button>
            </div>
        </div>
    </div>

    <!-- Widget Modal -->
    <div class="modal-overlay" id="widgetModal">
        <div class="modal modal-lg">
            <div class="modal-header">
                <h3 id="widgetModalTitle">Add Widget</h3>
                <button class="modal-close" onclick="closeWidgetModal()">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18" />
                        <line x1="6" y1="6" x2="18" y2="18" />
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <form id="widgetForm">
                    <input type="hidden" id="widgetId">
                    <input type="hidden" id="widgetPageId">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="widgetType">Widget Type *</label>
                            <select id="widgetType" required>
                                <option value="">Select Type</option>
                                <option value="banner">Banner</option>
                                <option value="product_grid">Product Grid</option>
                                <option value="text">Text</option>
                                <option value="image">Image</option>
                                <option value="spacer">Spacer</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="widgetPosition">Position</label>
                            <input type="number" id="widgetPosition" placeholder="Auto" min="1">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="widgetConfig">Configuration (JSON)</label>
                        <textarea id="widgetConfig" rows="6" placeholder='{"key": "value"}'></textarea>
                        <span class="form-hint">Optional JSON configuration for the widget</span>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeWidgetModal()">Cancel</button>
                <button class="btn btn-primary" onclick="saveWidget()">Save Widget</button>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <script src="app.js"></script>
</body>

</html>